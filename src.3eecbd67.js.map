{"version":3,"sources":["js/app.js","index.js"],"names":["galleryItems","preview","original","description","refs","body","document","querySelector","gallery","modalMenu","modalMenuImg","modalOverlay","modalCloseBtn","generatedGalleryMarkup","createGalleryElementsMarkup","map","index","join","onGalleryItemClick","e","isGalleryImg","target","classList","contains","counter","dataset","idx","preventDefault","openModalWindow","onModalCloseBtnClick","closeModalOverlay","onModalOverlayClick","onModalOverlayKeydown","code","nextImg","privImg","style","overflow","remove","src","alt","removeEventListener","add","source","addEventListener","insertAdjacentHTML","imgList","srcRef","length"],"mappings":";;;AAAA,MAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAQXC,EAAO,CACXC,KAAMC,SAASC,cAAc,QAC7BC,QAASF,SAASC,cAAc,eAChCE,UAAWH,SAASC,cAAc,gBAClCG,aAAcJ,SAASC,cAAc,oBACrCI,aAAcL,SAASC,cAAc,sBACrCK,cAAeN,SAASC,cAAc,sBAIlCM,EAAyBC,EAA4Bd,GAa3D,SAASc,EAA4Bd,GAC5BA,OAAAA,EACJe,IAAI,EAAGd,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,GAAea,qGAGpBd,oGAGCD,yCACQC,qCACHc,gCACLb,wEAKtBc,KAAK,IAGV,SAASC,EAAmBC,GACpBC,MAAAA,EAAeD,EAAEE,OAAOC,UAAUC,SAAS,kBACjDC,EAAUL,EAAEE,OAAOI,QAAQC,IAEtBN,IAILD,EAAEQ,iBACFC,EAAgBT,IAGlB,SAASU,EAAqBV,GAC5BW,IAGF,SAASC,EAAoBZ,GAC3BW,IAGF,SAASE,EAAsBb,GACd,eAAXA,EAAEc,MACJC,IAGa,cAAXf,EAAEc,MACJE,IAGa,UAAXhB,EAAEc,MACJd,EAAEQ,iBAGW,WAAXR,EAAEc,MAINH,IAGF,SAASA,IACP1B,EAAKC,KAAK+B,MAAMC,SAAW,SAC3BjC,EAAKK,UAAUa,UAAUgB,OAAO,WAChClC,EAAKM,aAAa6B,IAAM,GACxBnC,EAAKM,aAAa8B,IAAM,GACxBpC,EAAKM,aAAae,QAAQT,MAAQ,GAElCZ,EAAKQ,cAAc6B,oBAAoB,QAASZ,GAChDzB,EAAKO,aAAa8B,oBAAoB,QAASV,GAC/CzB,SAASmC,oBAAoB,UAAWT,GAG1C,SAASJ,EAAgBT,GACvBf,EAAKK,UAAUa,UAAUoB,IAAI,WAC7BtC,EAAKM,aAAa6B,IAAMpB,EAAEE,OAAOI,QAAQkB,OACzCvC,EAAKM,aAAa8B,IAAMrB,EAAEE,OAAOmB,IAEjCpC,EAAKQ,cAAcgC,iBAAiB,QAASf,GAC7CzB,EAAKO,aAAaiC,iBAAiB,QAASb,GAC5CzB,SAASsC,iBAAiB,UAAWZ,GACrC1B,SAASC,cAAc,QAAQ6B,MAAMC,SAAW,SA3FlDjC,EAAKI,QAAQqC,mBAAmB,YAAahC,GAM7CT,EAAKI,QAAQoC,iBAAiB,QAAS1B,GA4FvC,MAAM4B,EAAU9C,EAAae,IAAKgC,GAAWA,EAAO7C,UAEpD,IAAIsB,EAAU,EAEd,SAASU,IACHV,EAAUsB,EAAQE,OAAS,GAC7BxB,IACApB,EAAKM,aAAa6B,OAASO,EAAQtB,OAEnCA,EAAU,EACVpB,EAAKM,aAAa6B,OAASO,EAAQtB,MAIvC,SAASW,IACHX,EAAU,GACZA,IACApB,EAAKM,aAAa6B,OAASO,EAAQtB,OAEnCA,EAAUsB,EAAQE,OAAS,EAC3B5C,EAAKM,aAAa6B,OAASO,EAAQtB;;ACtMvC,aADA,QAAA,oBACA,QAAA","file":"src.3eecbd67.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\n    description: \"Hokkaido Flower\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\n    description: \"Container Haulage Freight\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\n    description: \"Aerial Beach View\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\n    description: \"Flower Blooms\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\n    description: \"Alpine Mountains\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\n    description: \"Mountain Lake Sailing\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\n    description: \"Alpine Spring Meadows\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\n    description: \"Nature Landscape\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\n    description: \"Lighthouse Coast Sea\",\n  },\n];\n\n/*\n    ## Раздел ссылок на элементы\n*/\n\nconst refs = {\n  body: document.querySelector(\"body\"),\n  gallery: document.querySelector(\".js-gallery\"),\n  modalMenu: document.querySelector(\".js-lightbox\"),\n  modalMenuImg: document.querySelector(\".lightbox__image\"),\n  modalOverlay: document.querySelector(\".lightbox__overlay\"),\n  modalCloseBtn: document.querySelector(\".lightbox__button\"),\n};\n\n//  Генерация разметки\nconst generatedGalleryMarkup = createGalleryElementsMarkup(galleryItems);\nrefs.gallery.insertAdjacentHTML(\"beforeend\", generatedGalleryMarkup);\n\n/* \n    ## Раздел слушателей событий\n*/\n\nrefs.gallery.addEventListener(\"click\", onGalleryItemClick);\n\n/* \n    ## Раздел функций\n*/\n\nfunction createGalleryElementsMarkup(galleryItems) {\n  return galleryItems\n    .map(({ preview, original, description }, index) => {\n      return `<li class=\"gallery__item\">\n                <a class=\"gallery__link\"\n                  href=\"${original}\"\n                  >\n                  <img class=\"gallery__image\"\n                    src=\"${preview}\" \n                    data-source=\"${original}\"\n                    data-idx=\"${index}\"\n                    alt=\"${description}\"\n                  />\n                </a>\n               </li>`;\n    })\n    .join(\"\");\n}\n\nfunction onGalleryItemClick(e) {\n  const isGalleryImg = e.target.classList.contains(\"gallery__image\");\n  counter = e.target.dataset.idx;\n\n  if (!isGalleryImg) {\n    return;\n  }\n\n  e.preventDefault();\n  openModalWindow(e);\n}\n\nfunction onModalCloseBtnClick(e) {\n  closeModalOverlay();\n}\n\nfunction onModalOverlayClick(e) {\n  closeModalOverlay();\n}\n\nfunction onModalOverlayKeydown(e) {\n  if (e.code === \"ArrowRight\") {\n    nextImg();\n  }\n\n  if (e.code === \"ArrowLeft\") {\n    privImg();\n  }\n\n  if (e.code === \"Enter\") {\n    e.preventDefault();\n  }\n\n  if (e.code !== \"Escape\") {\n    return;\n  }\n\n  closeModalOverlay();\n}\n\nfunction closeModalOverlay() {\n  refs.body.style.overflow = \"scroll\";\n  refs.modalMenu.classList.remove(\"is-open\");\n  refs.modalMenuImg.src = \"\";\n  refs.modalMenuImg.alt = \"\";\n  refs.modalMenuImg.dataset.index = \"\";\n\n  refs.modalCloseBtn.removeEventListener(\"click\", onModalCloseBtnClick);\n  refs.modalOverlay.removeEventListener(\"click\", onModalOverlayClick);\n  document.removeEventListener(\"keydown\", onModalOverlayKeydown);\n}\n\nfunction openModalWindow(e) {\n  refs.modalMenu.classList.add(\"is-open\");\n  refs.modalMenuImg.src = e.target.dataset.source;\n  refs.modalMenuImg.alt = e.target.alt;\n\n  refs.modalCloseBtn.addEventListener(\"click\", onModalCloseBtnClick);\n  refs.modalOverlay.addEventListener(\"click\", onModalOverlayClick);\n  document.addEventListener(\"keydown\", onModalOverlayKeydown);\n  document.querySelector(\"body\").style.overflow = \"hidden\";\n}\n\n/* \n    ## Реализация слайдера по стрелкам\n*/\n\nconst imgList = galleryItems.map((srcRef) => srcRef.original);\n\nlet counter = 0;\n\nfunction nextImg() {\n  if (counter < imgList.length - 1) {\n    counter++;\n    refs.modalMenuImg.src = `${imgList[counter]}`;\n  } else {\n    counter = 0;\n    refs.modalMenuImg.src = `${imgList[counter]}`;\n  }\n}\n\nfunction privImg() {\n  if (counter > 0) {\n    counter--;\n    refs.modalMenuImg.src = `${imgList[counter]}`;\n  } else {\n    counter = imgList.length - 1;\n    refs.modalMenuImg.src = `${imgList[counter]}`;\n  }\n}\n","import './sass/main.scss';\nimport './js/app'"]}